<div class="recruiter-container">
  <h2 class="recruiter-header">üõ°Ô∏è Panel de Administraci√≥n - Gesti√≥n de Usuarios</h2>

  <div class="recruiter-actions">
    <%= link_to "‚ûï Crear nuevo usuario", new_admin_user_path, class: "btn btn-success btn-large", "aria-label": "Crear un nuevo usuario aspirante" %>
  </div>

  <% if @users.any? %>
    <div class="table-container"><div class="table-container"><table class="data-table">
      <thead>
        <tr >
          <th >Email</th>
          <th >ID</th>
          <th >Rol</th>
          <th >Creado</th>
          <th class="center">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <% @users.each do |user| %>
          <tr >
            <td ><%= user.email %></td>
            <td ><%= user.id %></td>
            <td >
              <span class="badge <%= case user.role when 'admin' then 'badge-admin' when 'reclutador' then 'badge-recruiter' else 'badge-aspirant' end %>">
                <%= user.role.capitalize %>
              </span>
            </td>
            <td ><%= user.created_at.strftime("%d/%m/%Y %H:%M") %></td>
            <td class="center">
              <%= link_to edit_admin_user_path(user), title: "Editar usuario", style: "display: inline-block; margin-right: 10px; text-decoration: none;", "aria-label": "Editar usuario #{user.email}" do %>
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
                  <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z" fill="#ffc107"/>
                </svg>
              <% end %>
              <%= link_to admin_user_path(user), method: :delete, data: { confirm: "¬øEst√° seguro de eliminar este usuario?" }, title: "Eliminar usuario", style: "display: inline-block; text-decoration: none;", "aria-label": "Eliminar usuario #{user.email}" do %>
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
                  <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z" fill="#dc3545"/>
                </svg>
              <% end %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table></div><% else %>
    <p class="empty-state">No hay usuarios en el sistema.</p>
  <% end %>
</div>
